<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>NYD Chatbot</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 30px; background: #f4f4f9; }
        h1 { text-align: center; }
        .container { width: 60%; margin: auto; padding: 20px; background: white; border-radius: 8px; }
        input[type="file"], input[type="text"], button {
            margin: 10px 0; padding: 10px; width: 100%; font-size: 16px;
        }
        .response { margin-top: 20px; padding: 10px; background: #e6f7ff; border-radius: 6px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>NYD Hackathon Chatbot</h1>
        <form method="POST" enctype="multipart/form-data">
            <h3>Upload Dataset</h3>
            <input type="file" name="dataset" accept=".txt,.csv,.json" required>
            <button type="submit">Load Dataset</button>
        </form>

        <h3>Ask a Question</h3>
        <input type="text" id="query" placeholder="Type your question...">
        <button onclick="askQuestion()">Ask</button>
        <div id="response" class="response"></div>
    </div>

    <script>
        async function askQuestion() {
            const query = document.getElementById('query').value;
            const formData = new FormData();
            formData.append('query', query);
            const res = await fetch('/', { method: 'POST', body: formData });
            const data = await res.json();
            document.getElementById('response').innerText = data.response;
        }
    </script>
</body>
</html>
